[gd_scene load_steps=19 format=3 uid="uid://dwpxrxrso4gxp"]

[ext_resource type="Script" path="res://Scripts/WorldGeneration/GridWorldGenerator.cs" id="1_rwyfw"]
[ext_resource type="PackedScene" uid="uid://d0vpneaidygpk" path="res://Subscenes/WorldTiles/WorldTile.tscn" id="2_kg8g1"]
[ext_resource type="Texture2D" uid="uid://jeip5slvibhd" path="res://Sprites/GroundSprites/grass1.png" id="3_3ntyo"]
[ext_resource type="PackedScene" uid="uid://4qu2ijrrqc34" path="res://Subscenes/Nature/Tree.tscn" id="4_1q2wf"]
[ext_resource type="Texture2D" uid="uid://c2sfg0jkj4vm7" path="res://Sprites/GroundSprites/grass5.png" id="4_325oc"]
[ext_resource type="Texture2D" uid="uid://bsococoq13ajh" path="res://Sprites/GroundSprites/grass8.png" id="5_hgqdf"]
[ext_resource type="Texture2D" uid="uid://46vx14kgnxm5" path="res://Sprites/GroundSprites/grass9.png" id="6_febuo"]
[ext_resource type="Texture2D" uid="uid://buyiv3osh6a2j" path="res://Sprites/GroundSprites/grass10.png" id="7_5f44p"]
[ext_resource type="Texture2D" uid="uid://bobyw1qicxpkf" path="res://Sprites/GroundSprites/dirt1.png" id="8_58tkn"]
[ext_resource type="Texture2D" uid="uid://cn76oijngw7c7" path="res://Sprites/GroundSprites/dirt4.png" id="9_4id5i"]
[ext_resource type="PackedScene" uid="uid://bq63l7m02j036" path="res://Subscenes/Characters/Player.tscn" id="11_h7ex2"]
[ext_resource type="Script" path="res://Scripts/Characters/Player/RetinueController.cs" id="12_i57bt"]
[ext_resource type="PackedScene" uid="uid://c8g02yp1nunew" path="res://Scenes/Test/RetinueCreation.tscn" id="12_p7q5c"]
[ext_resource type="Shader" path="res://Shaders/Vignette.gdshader" id="12_rjgte"]
[ext_resource type="PackedScene" uid="uid://d2dfq4aekx133" path="res://Subscenes/Characters/NPC_Ally.tscn" id="13_pp20x"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_tqkkh"]
shader = ExtResource("12_rjgte")
shader_parameter/alpha = 1.0
shader_parameter/inner_radius = 0.2
shader_parameter/outer_radius = 1.2

[sub_resource type="Environment" id="Environment_ua30k"]
background_mode = 1
ambient_light_energy = 0.01
reflected_light_source = 1
sdfgi_read_sky_light = false
fog_light_color = Color(0, 0, 0, 1)
adjustment_brightness = 0.8
adjustment_contrast = 1.1

[sub_resource type="CameraAttributesPractical" id="CameraAttributesPractical_qynxp"]
auto_exposure_scale = 0.06
dof_blur_far_distance = 8040.33

[node name="WorldGeneration" type="Node3D"]

[node name="World" type="Node3D" parent="." node_paths=PackedStringArray("m_Player")]
script = ExtResource("1_rwyfw")
m_Player = NodePath("../Player")
m_MinTimeToGenerateChunk = 1.0
m_WorldTile = ExtResource("2_kg8g1")
m_GroundTextures = Array[Texture2D]([ExtResource("3_3ntyo"), ExtResource("4_325oc"), ExtResource("5_hgqdf"), ExtResource("6_febuo"), ExtResource("7_5f44p")])
m_RoadTextures = Array[Texture2D]([ExtResource("8_58tkn"), ExtResource("9_4id5i")])
m_StepValue = Vector2(0.5, 0.385)
m_TreeScene = ExtResource("4_1q2wf")
m_TreeSpawnMinDistance = 0.8

[node name="Player" parent="." instance=ExtResource("11_h7ex2")]

[node name="PostProcessing" type="CanvasLayer" parent="Player/Camera3D" index="0"]

[node name="Vignette" type="ColorRect" parent="Player/Camera3D/PostProcessing"]
material = SubResource("ShaderMaterial_tqkkh")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="RetinueController" type="Node" parent="." node_paths=PackedStringArray("m_Player", "m_CharacterGenerator")]
script = ExtResource("12_i57bt")
m_Player = NodePath("../Player")
m_CharacterGenerator = NodePath("../RetinueCreation")
m_AllyScene = ExtResource("13_pp20x")
m_StartRetinueCount = 2

[node name="RetinueCreation" parent="." instance=ExtResource("12_p7q5c")]
visible = false

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.0201397, 0.28061, -0.959611, -4.65661e-10, 0.959805, 0.280667, 0.999797, -0.00565255, 0.0193302, 0, 0, 0)
light_color = Color(0.247059, 0.247059, 0.247059, 1)
shadow_bias = 0.01
shadow_normal_bias = 1.0
shadow_reverse_cull_face = true
shadow_opacity = 0.75
directional_shadow_mode = 1

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_ua30k")
camera_attributes = SubResource("CameraAttributesPractical_qynxp")

[editable path="Player"]
